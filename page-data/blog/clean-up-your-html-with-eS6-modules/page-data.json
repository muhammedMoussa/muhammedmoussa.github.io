{"componentChunkName":"component---src-templates-post-page-template-js","path":"/blog/clean-up-your-html-with-eS6-modules/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Clean up your HTML with ES6 Modules\",\n  \"date\": \"2021-04-25T00:00:00.000Z\",\n  \"published\": true\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"if you are that person who is working with the web regardless of the role how you doing it, maybe for your WordPress site, a simple static website or you are a backend or full-stack developer and working with Javascript inside HTML files with code in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<sctipt>\"), \" tags, so this post for you.\"), mdx(\"p\", null, \"Modularity is one of the main factors of any solid software to make it more efficient, reusable, and maintainable. if you are coming from any programming language you probably know about modules or classes sharing ways \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"module\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"use\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"#include\"), \" etc. \"), mdx(\"p\", null, \"But when it comes to JavaScript this language that written inside a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<script>\"), \" tag in HTML file bunch of people thinking about just doing the job making some animation or add a third-party plugin to the website with zero modularity consideration and crowdy HTML files, so let's get started! :fire:\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://media.giphy.com/media/3o7TKUM3IgJBX2as9O/giphy.gif\",\n    \"alt\": \"GIF\"\n  }))), mdx(\"h1\", null, \"How HTML file looks\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<body>\\n    <script>\\n        // function doAnimationForMe() {}\\n        // function doScrollToTopForMe()\\n    </script>\\n    <script>\\n        // function doFirebaseIntegrationForMe() {}\\n        // function danceWithMe()\\n    </script>\\n</body>\\n\")), mdx(\"p\", null, \"let's focus on \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<body>\"), \" content only, and imaging \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DRY\"), \" some of these little functions on multiple \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" files and think about \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" file length one last imaging if you want to update something or doing another dance so yeah here we go and will work through all \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" pages again over and over.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://media.giphy.com/media/VwwKdq5NV0nwQ/giphy.gif\",\n    \"alt\": \"GIF\"\n  }))), mdx(\"h1\", null, \"Creating Javascript module\"), mdx(\"p\", null, \"Yes, that's possible, js will not fight you, with newly introduced \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ES6\"), \" keywords \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export\"), \" you can encapsulate the module. regardless of the other benefits of working with modules. so now we are just focused on making the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" file more cleaner.\"), mdx(\"p\", null, \"As example lets grap \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"doAnimationForMe()\"), \" from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" file, and create \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"animation.js\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const time = 1000\\n\\nfunction start() { /* ..... */ }\\n\\nfunction end() { /* ..... */ }\\n\\nfunction doAnimationForMe() { \\n  start()\\n  setTimeOut(function() {\\n    end();\\n  }, time)\\n}\\n\")), mdx(\"p\", null, \"same code from the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" file but in an isolated, manipulated, and reusable zone.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://media.giphy.com/media/3o6UBhjHobLFgEmrJu/giphy.gif\",\n    \"alt\": \"GIF\"\n  }))), mdx(\"h1\", null, \"Modules Export and Import\"), mdx(\"p\", null, \"Great its a time to making our pretty code modular ready. there are variant ways of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"default\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"named\"), \", and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aggregation\"), \". let's find out. another feature of the module if we planning to use this \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"doAnimationForMe()\"), \" at another js files or only include this module to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" page that we can export all functions in the file or just \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"doAnimationForMe()\"), \" function only. \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"let's start with the \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Named\"), \" export\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"export const time = 1000\\n\\nexport function start() { /* ..... */ }\\n\\nexport function end() { /* ..... */ }\\n\\nexport function doAnimationForMe() { \\n  start()\\n  setTimeOut(function() {\\n    end()\\n  }, time)\\n}\\n\")), mdx(\"p\", null, \"in this way all animation staff exported can be imported later. another tip if you plan to export multiple stuff from one module,\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const time = 100\\n\\nfunction start() { /* ..... */ }\\n\\nfunction end() { /* ..... */ }\\n\\nfunction doAnimationForMe() { \\n  start()\\n  setTimeOut(function() {\\n    end()\\n  }, time)\\n}\\n\\nexport {start, end, doAnimationForMe}\\n// shorthand for {start: start, end: end, doAnimationForMe}\\n\")), mdx(\"p\", null, \"also can export only \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"doAnimationForMe()\"), \" function and make the module more logical, just flag desired part by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export\"), \" or follow the export object tip.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javacript\"\n  }), \"// Code......\\nexport {doAnimationForMe}\\n\")), mdx(\"p\", null, \"Another \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"tip\"), \": since we are talking about the named \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export\"), \" we can also cast names, till now if we will \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"doAnimationForMe\"), \" we have to use the same name \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"doAnimationForMe\"), \" or will cause an error. for rename exported part: \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"export {doAnimationForMe as useAnimation}\\n\")), mdx(\"p\", null, \"let's create another pseudo module sample that gets data from API then applying some animation, for the whole picture drawing, creating an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api.js\"), \" file.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const url = '/api/item'\\n\\nexport function getAllItems() {\\n  return new Promise(function (resolve, reject) {\\n    fetch(url)\\n      .then(function (response) {\\n        resolve(response)\\n      })\\n      .catch(function (error) {\\n        reject(error)\\n      })\\n  })\\n}\\n\")), mdx(\"h1\", null, \"Module import and reuse\"), mdx(\"p\", null, \"Yeah, let's have some fun and put it all together creating an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.js\"), \" file. \"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"import {doAnimationForMe} from './animation.js' // The relative path.\\nimport {getAllItems} from './api.js' // The relative path.\\n\\n// Another Code...\\nfunction renderUi(items) {\\n  // Render items in the ui\\n}\\n\\nfunction handleError(err) {\\n  // Handle the error\\n  console.error(err)\\n}\\n\\ngetAllItems().then(function(data) {\\n  renderUi(data)\\n  doAnimationForMe()\\n}).catch(function(err) {\\n  handleError(err)\\n})\\n\\nwindow.addEventListener('load', getAllItems())\\n\")), mdx(\"h1\", null, \"Adding Module into \", mdx(\"inlineCode\", {\n    parentName: \"h1\"\n  }, \"HTML\"), \" page\"), mdx(\"p\", null, \"it's the time to cleanup the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" file and include only our encapsulated module, with only one line consider relative paths also :\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<!DOCTYPE html>\\n<html>\\n<head>\\n    <!-- Code... -->\\n</head>\\n<body>\\n    <!-- Code... -->\\n    <script src=\\\"./app.js\\\"></script>\\n</body>\\n</html>\\n\")), mdx(\"p\", null, \"The difference is clear now how clean it our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" but, for the first time properly you will get a nice error!\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Uncaught SyntaxError: Cannot use import statement outside a module\\n\")), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://media.giphy.com/media/3o751YNpKVoKx24UYU/giphy.gif\",\n    \"alt\": \"GIF\"\n  }))), mdx(\"p\", null, \"Actually no. it's the trick not kidding but we have to include one last attribute to our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"script\"), \" tag which is the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"type=\\\"module\\\"\")), mdx(\"p\", null, \"so after a little update, the code will look like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \"<script src=\\\"./app.js\\\" type=\\\"module\\\"></script>\\n\")), mdx(\"p\", null, \"the error will go and now we can confirm that our modules all loaded into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" page by checking the network tab: \"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://i.imgur.com/HAS5J40.png\",\n    \"alt\": \"Network tab image\"\n  }))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"for further reading and it's very important also to check the browser compatibility for this feature with your project or the client devices.\\n\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules\"\n  }), \"JavaScript Modules -MDN\"))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"another way to doing the same job is  \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"default export\"), \"\\nthere is no much difference but just in case you don't care about names and want to \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"export\"), \" some functionality from the module without a specific name in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"import\"), \", it also's good to avoid naming errors. let's see the same example but in \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"default export\"), \".\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"animation.js\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const time = 1000\\n\\nfunction start() { /* ..... */ }\\n\\nfunction end() { /* ..... */ }\\n\\nexport default function doAnimationForMe() { \\n  start()\\n  setTimeOut(function() {\\n    end()\\n  }, time)\\n}\\n\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"api.js\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const url = '/api/item'\\n\\nfunction getAllItems() {\\n  return new Promise(function (resolve, reject) {\\n    fetch(url)\\n      .then(function (response) {\\n        resolve(response)\\n      })\\n      .catch(function (error) {\\n        reject(error)\\n      })\\n  })\\n}\\n\\nexport default getAllItems\\n// same but, in another way...\\n\")), mdx(\"p\", null, \"the most interesting part here at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"app.js\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"import doAnimation from './animation.js'\\nimport kofta from './api.js'\\n\\n// Another Code...\\nfunction renderUi(items) {\\n  // Render items in the ui\\n}\\n\\nfunction handleError(err) {\\n  // Handle the error\\n  console.error(err)\\n}\\n\\nkofta().then(function(data) {\\n  renderUi(data)\\n  doAnimation()\\n}).catch(function(err) {\\n  handleError(err)\\n})\\n\\nwindow.addEventListener('load', getAllItems())\\n\")), mdx(\"p\", null, \"that's will do the same job but in a simplified way.\"), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"https://media.giphy.com/media/LlEc7uMgbIiECNK4ce/giphy.gif\",\n    \"alt\": \"GIF\"\n  }))), mdx(\"h2\", null, \"Consolusion\"), mdx(\"p\", null, \"The goal of this post is to simplify working with modules also encouraging you to write clean \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"HTML\"), \" pages focused only on markup, and keep \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"JavaScript\"), \" files isolated too like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CSS\"), \" with the benefit of modularity at the functionality code on your website. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ES6\"), \" \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"import\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export\"), \" also have a bunch of tips and tricks that's can make life easier also the third way mentioned before \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"aggregation\"), \" export. I just mentioned some basics.\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Clean up your HTML with ES6 Modules","date":"2021 April 25th"}}},"pageContext":{"id":"22eaee7b-3c6a-508e-a7db-99463bb83bb1"}},"staticQueryHashes":["3159585216","717330468"]}