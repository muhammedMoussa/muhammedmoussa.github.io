<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8f02dd4b96e82e0ecc15.css">@import url(https://unpkg.com/tailwindcss@1.4.6/dist/tailwind.min.css);@import url(https://use.fontawesome.com/releases/v5.7.2/css/all.css);.header-module--header--3A712{position:relative;margin:10px 0}.header-module--title--33kOg{color:#000;font-size:3rem;text-decoration:none}.header-module--nav-list--87D9u{display:flex;list-style-type:none;margin:0}.header-module--nav-item--1ixk0{color:#999;font-size:.9rem;margin-right:1.3rem;text-decoration:none}.header-module--nav-item--1ixk0:hover{color:#666}.header-module--active-nav-item--26N0B{color:#3182ce}body{--bg:#fff;--textNormal:#222;--textTitle:#222;--textLink:#00f;--hr:rgba(0,0,0,0.2);background-color:var(--bg)}body.dark{-webkit-font-smoothing:antialiased;--bg:#1a202c;--textNormal:hsla(0,0%,100%,0.88);--textTitle:#fff;--textLink:#ff0;--hr:hsla(0,0%,100%,0.2)}.toggle-input{position:absolute;right:0}.toggle-input input{width:.1px!important;height:.1px!important}.postTitle{font-size:2em;margin:10px 0}.postDate{margin-bottom:10px}</style><meta name="generator" content="Gatsby 2.26.1"/><link as="script" rel="preload" href="/webpack-runtime-3921362e21a616d22d47.js"/><link as="script" rel="preload" href="/framework-66de6f443629588fba4e.js"/><link as="script" rel="preload" href="/app-8a684073d732c11c195e.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/commons-e5a147ed1fa31cc8d9ab.js"/><link as="script" rel="preload" href="/component---src-templates-post-page-template-js-d7dc19145f6281335802.js"/><link as="fetch" rel="preload" href="/page-data/blog/control-angular-forms-in-just-functions/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3159585216.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/717330468.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="min-h-screen max-w-4xl p-5 mx-auto flex flex-col" style="background-color:var(--bg);color:var(--textNormal)"><div class="flex-grow"><header class="header-module--header--3A712"><nav><ul class="header-module--nav-list--87D9u"><li><a class="header-module--nav-item--1ixk0" href="/">Home</a></li><li><a class="header-module--nav-item--1ixk0" href="/blog">Blog</a></li><li><a class="header-module--nav-item--1ixk0" href="/gallery">Gallery</a></li><li class="toggle-input"><label class="cursor-pointer"><i class="fas fa-sun"></i><input type="checkbox"/> <!-- --> </label></li></ul></nav></header><span class="disqus-comment-count"> </span><h1 class="postTitle">Control angular forms in just functions üî•</h1><p class="postDate">2020 June 17th</p><hr class="mb-4"/><p>Forms are an important concept to be covered and controlled in the client-side development... in the previous article, I talked about forms in angular and how to manage them easily with <code>Rxjs</code>.</p><p>{% post <a href="https://dev.to/muhammedmoussa/hack-angular-forms-with-rxjs-4he7">https://dev.to/muhammedmoussa/hack-angular-forms-with-rxjs-4he7</a> %}</p><h1>Idea:</h1><ul><li>keep it simple is a concept, we will use only angular two-way data binding connected with only functions and component props in a functional way. no more template-driven, reactive forms or even observable forms :D </li></ul><mark>Note:</mark> this pattern can be useful in small static forms.<p>we will be going with pseudocode for HTML and component coverage and the full code with demo will be included. let&#x27;s start!</p><p><img src="https://media.giphy.com/media/l1J9xV815LOOTUju0/giphy.gif" alt="GIF"/></p><h1>Component Goal:</h1><ul><li>let&#x27;s assume that we have a user form component as pice of our app and we planned to reuse it so it will be declarative enough and prevent its noise from parent components will render. here are some props and functions our component will need.</li></ul><h1>Component Ui:</h1><ul><li>the form is simple to keep the view part only focusing on UI stuff and CSS styling, with just inputs and a piece of banana in the box <code>[()]</code>, with buttons eventually binding into the component class.</li></ul><pre><code class="language-html">&lt;div&gt;
  &lt;input [(ngModel)]=&quot;name&quot; type=&quot;text&quot;&gt;
  &lt;input [(ngModel)]=&quot;active&quot; type=&quot;checkbox&quot;&gt;
  &lt;button (click)=&quot;onSubmit()&quot;&gt;Save&lt;/button&gt;
  &lt;button (click)=&quot;onReset()&quot;&gt;Reset&lt;/button&gt;
&lt;/div&gt;
</code></pre><p>that&#x27;s all that we need from our component view. no more logic noise clear or directives.</p><h1>Functional part in component:</h1><ul><li>the place where the component view will dance, we need two main things only. <code>variables</code> or <code>props</code> which will act as form controls, and functions that are will handle form actions like <code>submit</code> and <code>reset</code>.</li></ul><pre><code class="language-typescript">export class UserFormComponent {
  // controls 
  name = &#x27;&#x27;
  active = false

  onSubmit() {
    // collecting component data before submit. 
    const {name, age} = this
    const userData = {name, age}

    console.log(userData)
  }

  onReset() { 
    // component is clear again.
    this.name = &#x27;&#x27;;
    this.active = false
  }
}
</code></pre><p>and that&#x27;s it we have a simple clean component that will act as a solid piece from our greater app!</p><p><img src="https://media.giphy.com/media/26u4lOMA8JKSnL9Uk/giphy.gif" alt="GIF"/></p><h1>Bonus:</h1><ul><li>since we are building a solid re-usable component so we have to consider its communication channel with the other components. Yah. it needs to pass its data into the world and we can deal with that inside angular by event emitting via <code>@Output()</code>. actually, we almost need the form data when submitting the event but in some cases, we need to emit also reset events to the parent component for any reset stuff related to other components. let&#x27;s implement both.</li></ul><pre><code class="language-typescript">export class UserFormComponent {
  @Output() submit = new EventEmitter&lt;object&gt;()
  @Output() reset = new EventEmitter&lt;any&gt;()

  onSubmit() {
    // collecting component data before submit. 
    const {name, age} = this
    const userData = {name, age}

    console.log(userData)
    this.submit.emit(userData)
  }

  onReset() {
    this.reset.emit()
  }
}
</code></pre><ul><li>another pro tip to validate our form before submit and again form logic will be inside it, not another place so let&#x27;s validate before traveling to the parent component. in just function no more built-in or third-party validators.</li></ul><pre><code class="language-typescript">export class UserFormComponent {
  onSubmit() {
    // validating component data before submit.
    if(!this.isValid()) { return }

    // ... submit code
  }

  private isValid(): boolean {
    // just required name and active. you can go with your validation logic and add another else if blocks.
    const {name, active} = this
    if(name &amp;&amp; active) {
      return true
    } else {
      return false
    }
  }
}
</code></pre><p>#Concolusion üñêÔ∏è#
we discussed forms management tips for angular development by using built-in frameworks  Data binding and event emitters. in a functional way, <strong>BUT</strong> this approach not Exclusive at angular think about it functional programming is heavily welcomed in javascript frameworks and the second part is a data binding is a behavior that another framework can offer like <code>VueJs</code> in <code>v-model</code> directive. and <code>React</code> in <code>useState()</code> hook. so this pattern may be useful at any js framework not only angular.</p><p>thought sharing is welcomed since all of that post is just a personal point of view through daily experience.</p><p><a href="https://github.com/muhammedMoussa/angular-forms-tips">Github Repo</a>
<a href="https://angular-forms-tips.netlify.app/">Live Demo</a>
<a href="https://twitter.com/muhammedmoussa">Find Me on Twitter</a></p><div id="disqus_thread"></div></div><footer class="mt-5"><p>Muhammed Moussa<!-- --> @2020, v: <!-- -->2.1.4</p></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/control-angular-forms-in-just-functions/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-3f99b51aa82fcaeb5543.js"],"app":["/app-8a684073d732c11c195e.js"],"component---src-pages-404-js":["/component---src-pages-404-js-396aed35802d7ef1b1c3.js"],"component---src-pages-about-js":["/component---src-pages-about-js-c95feeff70392561979a.js"],"component---src-pages-blog-index-js":["/component---src-pages-blog-index-js-b44a717e99d54e108b3d.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-b6c42626acbf6537340d.js"],"component---src-pages-gallery-js":["/component---src-pages-gallery-js-dba6d761dca335499872.js"],"component---src-pages-index-js":["/component---src-pages-index-js-c4312f9b45635f51af70.js"],"component---src-templates-post-page-template-js":["/component---src-templates-post-page-template-js-d7dc19145f6281335802.js"],"polyfills-dom":["/polyfills-dom-93064dd2f9b42a28a028.js"],"polyfills-core-js":["/polyfills-core-js-0023ff072e9b0f7b717f.js"]};/*]]>*/</script><script src="/polyfill-3f99b51aa82fcaeb5543.js" nomodule=""></script><script src="/component---src-templates-post-page-template-js-d7dc19145f6281335802.js" async=""></script><script src="/commons-e5a147ed1fa31cc8d9ab.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-8a684073d732c11c195e.js" async=""></script><script src="/framework-66de6f443629588fba4e.js" async=""></script><script src="/webpack-runtime-3921362e21a616d22d47.js" async=""></script></body></html>